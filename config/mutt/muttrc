# Sending
set realname      = "Michael Walker"
set sendmail      = "/usr/bin/msmtp"
set use_from      = yes
set envelope_from = yes

# Contacts
# Aliases not included in git to spare the innocent from spambots.
set alias_file   = "~/.mutt/aliases"
set sort_alias   = alias
set reverse_alias = yes

# Composing
set edit_headers = yes
set send_charset = "utf-8"
set header_cache = "~/.cache/mutt"
set editor = "/usr/bin/vim -c 'set tw=80 ft=mail' -c 'set wrap' -c 'set nocp' -c '+/^--.$/-1'"
set ispell = "/usr/bin/aspell -e -c"

# Reading
set mbox_type = Maildir
unset move

# Indexing
set sort     = threads
set sort_aux = reverse-last-date-received

# Accounts
set folder    = ~/Mail
set spoolfile = "+personal/INBOX"

mailboxes "+personal/INBOX"   "+personal/drafts"   "+personal/sent"   "+personal/flagged"
mailboxes "+university/INBOX" "+university/drafts" "+university/sent" "+university/flagged"
mailboxes "+hacksoc/INBOX"    "+hacksoc/drafts"    "+hacksoc/sent"    "+hacksoc/flagged"

folder-hook personal/*   source ~/.mutt/personal/rc
folder-hook university/* source ~/.mutt/university/rc
folder-hook hacksoc/*    source ~/.mutt/hacksoc/rc

macro index Z "<shell-escape>/usr/bin/offlineimap -q -o -u ttyui<enter>" "sync IMAP"

# GPG
source ~/.mutt/gpg
bind compose p pgp-menu
macro compose Y pfy "send mail without GPG"

# Sidebar
set sidebar_width   = 24
set sidebar_visible = yes
set sidebar_delim   = ' | '
set sidebar_sort    = yes

color sidebar_new yellow default

bind index,pager \cp sidebar-prev
bind index,pager \cn sidebar-next
bind index,pager \co sidebar-open

# Appearence
source ~/.mutt/colour
set date_format         = "%d/%m/%y at %I:%M%P"
set index_format        = "%3C  %S   %D  â€¢  %-25.25L %s %> %c"
set pager_format        = "Reading message %C of %m %> %lL [%P]" # pager statusbar
set folder_format       = "%2C %t %N %8s %d %f"                  # mailbox list view
set status_format       = " %?M?%M/?%m Mails %?n?%n new, ?%?u?%u unread, ?%?p?%p drafts, ?%?t?%t +tagged, ?%?d?%d deleted, ?[%f %l]  %?b?%b unread messages. ?%>  %V  [%P]"

# Misc
set delete
